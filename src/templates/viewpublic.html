<!doctype html>
<html lang="en">
  <head>
  	<title>Electronic Health Records using Blockchain</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,700' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	
	<link rel="stylesheet" href="{{url_for('static',filename='css/style.css')}}">
	<style>
		.card-header,p {
			color: white;
		}
	</style>

	</head>
	<body>
	<section class="ftco-section">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-md-6 text-center mb-5">
					<h2 class="heading-section">Electronic Health Records using Blockchain</h2>
				</div>
			</div>
		</div>
		<div class="wrap">
			<div class="container">
				<div class="row justify-content-between">
						<div class="col">
							<p class="mb-0 phone"><span class="fa fa-phone"></span> <a href="#">+91-7893015625</a></p>
						</div>
						<div class="col d-flex justify-content-end">
							<div class="social-media">
				    		<p class="mb-0 d-flex">
				    			<a href="#" class="d-flex align-items-center justify-content-center"><span class="fa fa-facebook"><i class="sr-only">Facebook</i></span></a>
				    			<a href="#" class="d-flex align-items-center justify-content-center"><span class="fa fa-twitter"><i class="sr-only">Twitter</i></span></a>
				    			<a href="#" class="d-flex align-items-center justify-content-center"><span class="fa fa-instagram"><i class="sr-only">Instagram</i></span></a>
				    			<a href="#" class="d-flex align-items-center justify-content-center"><span class="fa fa-dribbble"><i class="sr-only">Dribbble</i></span></a>
				    		</p>
			        </div>
						</div>
				</div>
			</div>
		</div>
		<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
	    <div class="container">
	    	<a class="navbar-brand" href="index.html">EHR <span>1.0</span></a>
	    	
	      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
	        <span class="fa fa-bars"></span> Menu
	      </button>
	      <div class="collapse navbar-collapse" id="ftco-nav">
	        <ul class="navbar-nav m-auto">
	        	<li class="nav-item"><a href="/" class="nav-link">Home</a></li>
	        	<li class="nav-item active"><a href="/viewpublic" class="nav-link">My Consultations</a></li>
				<li class="nav-item"><a href="/logout" class="nav-link">Logout</a></li>
	        </ul>
	      </div>
	    </div>
	  </nav>
    <!-- END nav -->

	</section>
	<section>
		<div class="container">
            <h2>Patient Records</h2> <br/>
            <div class="table-responsive">
                <table class="table table-bordered">
                    <tr>
                        <th>SNo</th>
                        <th>Doctor Wallet Address</th>
                        <th>Date of Appointment</th>
                        <th>Status</th>
                    </tr>
                    {%for i in range(0, len)%}
                    <tr>
                        <td>{{i+1}}</td>
                        <td>{{dashboard_data[i][0]}}</td>
                        <td>{{dashboard_data[i][1]}}</td>
                        <td>{{dashboard_data[i][2]}}</td>
                    </tr>
                    {%endfor%}
                </table>
                </div>
		
	    </div>

		<div class="container">
			{%for i in range(0, len)%}
			<div class="row">
				<div class="container mt-5">
					<h1 class="text-center mb-4">Patient Information on {{dashboard_data[i][1]}}</h1>
					<div class="card shadow mb-4" style="background-color: rgba(14, 63, 100, 0.318);">
						<div class="card-header">Administrative and Demographic Information</div>
						<div class="card-body">
							<p><strong>Full Name:</strong> {{dashboard_data[i][3]}}</p>
							<p><strong>Date of Birth:</strong> {{dashboard_data[i][4]}}</p>
							<p><strong>Gender:</strong> {{dashboard_data[i][5]}}</p>
							<p><strong>Address:</strong> {{dashboard_data[i][6]}}</p>
							<p><strong>Phone Number:</strong> {{dashboard_data[i][7]}}</p>
							<p><strong>Email:</strong> {{dashboard_data[i][8]}}</p>
							<p><strong>Emergency Contact Name:</strong> {{dashboard_data[i][9]}}</p>
							<p><strong>Relationship:</strong> {{dashboard_data[i][10]}}</p>
							<p><strong>Emergency Contact Phone:</strong> {{dashboard_data[i][11]}}</p>
						</div>
					</div>
			
					<div class="card shadow mb-4" style="background-color: rgba(12, 44, 103, 0.475);">
						<div class="card-header">Medical History</div>
						<div class="card-body">
							<p><strong>Current Medications:</strong> {{dashboard_data[i][12]}}</p>
							<p><strong>Allergies:</strong> {{dashboard_data[i][13]}}</p>
							<p><strong>Past Medical History:</strong> {{dashboard_data[i][14]}}</p>
							<p><strong>Family Medical History:</strong> {{dashboard_data[i][15]}}</p>
							<p><strong>Social History:</strong> {{dashboard_data[i][16]}}</p>
			
						</div>
					</div>
			
					<div class="card shadow mb-4" style="background-color: rgba(27, 56, 110, 0.475);">
						<div class="card-header">Clinical Data</div>
						<div class="card-body">
							<p><strong>Blood Pressure:</strong> {{dashboard_data[i][17]}}</p>
							<p><strong>Pulse Rate:</strong> {{dashboard_data[i][18]}}</p>
							<p><strong>Temperature:</strong> {{dashboard_data[i][19]}}</p>
							<p><strong>Respiratory Rate:</strong> {{dashboard_data[i][20]}}</p>
							<p><strong>Weight:</strong> {{dashboard_data[i][21]}}</p>
							<p><strong>Height:</strong> {{dashboard_data[i][22]}}</p>
							<p><strong>BMI:</strong> {{dashboard_data[i][23]}}</p>
							<p><strong>Reason for Visit:</strong> {{dashboard_data[i][24]}}</p>
							<p><strong>Physical Examination:</strong> {{dashboard_data[i][25]}}</p>
							<p><strong>Diagnosis:</strong> {{dashboard_data[i][26]}}</p>
			
						</div>
					</div>
					<button type="button" onclick="history.back()" class="btn btn-secondary"
						style="display: block; margin: 0 auto; hover{background-color: darkmagenta;}">Go
						Back</button>
			
					<script>
						// Get URL parameters
						const urlParams = new URLSearchParams(window.location.search);
			
						// Populateulate Administrative and Demographic fields:
						document.getElementById("disp-fullName").textContent = urlParams.get('fullName');
						document.getElementById("disp-dateOfBirth").textContent = urlParams.get('dateOfBirth');
						document.getElementById("disp-gender").textContent = urlParams.get('gender');
						document.getElementById("disp-address").textContent = urlParams.get('address');
						document.getElementById("disp-phone").textContent = urlParams.get('phone');
						document.getElementById("disp-email").textContent = urlParams.get('email');
						document.getElementById("disp-emergName").textContent = urlParams.get('emergName');
						document.getElementById("disp-emergRelation").textContent = urlParams.get('emergRelation');
						document.getElementById("disp-emergContact").textContent = urlParams.get('emergContact');
			
						// Populate Medical History fields
						document.getElementById("disp-meds").textContent = urlParams.get('meds');
						document.getElementById("disp-allergies").textContent = urlParams.get('allergies');
						document.getElementById("disp-pastMedHistory").textContent = urlParams.get('pastMedHistory');
						document.getElementById("disp-famMedHistory").textContent = urlParams.get('famMedHistory');
						document.getElementById("disp-socialHistory").textContent = urlParams.get('socialHistory');
			
						// Populate Cinical Data fields
						document.getElementById("disp-bp").textContent = urlParams.get('bp');
						document.getElementById("disp-pulse").textContent = urlParams.get('pulse');
						document.getElementById("disp-temp").textContent = urlParams.get('temp');
						document.getElementById("disp-respiratoryRate").textContent = urlParams.get('respiratoryRate');
						document.getElementById("disp-weight").textContent = urlParams.get('weight');
						document.getElementById("disp-height").textContent = urlParams.get('height');
						document.getElementById("disp-bmi").textContent = urlParams.get('bmi');
						document.getElementById("disp-reasonforvisit").textContent = urlParams.get('reasonforvisit');
						document.getElementById("disp-physicalexamination").textContent = urlParams.get('physicalexamination');
						document.getElementById("disp-diagnosis").textContent = urlParams.get('diagnosis');
			
					</script>
				</div>
			</div>
			{%endfor%}
		</div>
	</section> <br/><br/><br/>

	<script src="{{url_for('static',filename='js/jquery.min.js')}}"></script>
  	<script src="{{url_for('static',filename='js/popper.js')}}"></script>
  	<script src="{{url_for('static',filename='js/bootstrap.min.js')}}"></script>
  	<script src="{{url_for('static',filename='js/main.js')}}"></script>

	</body>
</html>

